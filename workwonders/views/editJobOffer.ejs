<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edit Job Offer</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/core_pages.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <style>
    body {
      padding-top: 4rem;
    }
  </style>
</head>
<body data-bs-theme="dark">
  <%- include("./header.ejs")%>
  <main>
    <div class="container text-center">
      <h1>Edit Job Offer</h1>
      <div class="container d-flex flex-column">
        <div class="container border border-white rounded-4 m-2">
          <form action="/joboffers/update/<%= jobOffer.id %>" method="POST">
            <div class="mb-3">
              <label for="state" class="form-label">State:</label>
              <select id="state" class="form-control" name="state" required>
                <option value="published" <%= jobOffer.state === 'published' ? 'selected' : '' %>>Published</option>
                <option value="unpublished" <%= jobOffer.state === 'unpublished' ? 'selected' : '' %>>Unpublished</option>
                <option value="expired" <%= jobOffer.state === 'expired' ? 'selected' : '' %>>Expired</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="validity_date" class="form-label">Validity Date:</label>
              <input type="date" class="form-control" id="validity_date" name="validity_date" value="<%= new Date(jobOffer.validity_date).toISOString().substring(0, 10) %>" required>
            </div>
            <div class="mb-3">
              <label for="required_documents_list" class="form-label">Required Documents List:</label>
              <input type="text" class="form-control" id="required_documents_list" name="required_documents_list" value="<%= jobOffer.required_documents_list %>" required>
            </div>
            <div class="mb-3">
              <label for="nb_required_documents" class="form-label">Number of Required Documents:</label>
              <input type="number" class="form-control" id="nb_required_documents" name="nb_required_documents" value="<%= jobOffer.nb_required_documents %>" required>
            </div>
            <div class="mb-3">
              <label for="position_status" class="form-label">Position Status:</label>
              <select class="form-control" id="position_status" name="position_status" required>
                <option value="executive" <%= jobOffer.position_status === 'executive' ? 'selected' : '' %>>Executive</option>
                <option value="supervisor" <%= jobOffer.position_status === 'supervisor' ? 'selected' : '' %>>Supervisor</option>
              </select>
            </div>
            <div class="mb-3">
              <label for="line_manager" class="form-label">Line Manager:</label>
              <input type="text" class="form-control" id="line_manager" name="line_manager" value="<%= jobOffer.line_manager %>">
            </div>
            <div class="mb-3">
              <label for="profession_type" class="form-label">Profession Type:</label>
              <input type="text" class="form-control" id="profession_type" name="profession_type" value="<%= jobOffer.profession_type %>" required>
            </div>
            <div class="mb-3">
              <label for="mission_location" class="form-label">Mission Location:</label>
              <input type="text" class="form-control" id="mission_location" name="mission_location" value="<%= jobOffer.mission_location %>" required>
            </div>
            <div class="mb-3">
              <label for="pace" class="form-label">Pace:</label>
              <input type="text" class="form-control" id="pace" name="pace" value="<%= jobOffer.pace %>" required>
            </div>
            <div class="mb-3">
              <label for="salary_range" class="form-label">Salary Range:</label>
              <input type="text" class="form-control" id="salary_range" name="salary_range" value="<%= jobOffer.salary_range %>" required>
            </div>
            <div class="mb-3">
              <label for="description" class="form-label">Description:</label>
              <textarea class="form-control" id="description" name="description"><%= jobOffer.description %></textarea>
            </div>
            <div class="mb-3">
              <label for="organization_siren" class="form-label">Organization SIREN:</label>
              <input type="text" class="form-control" id="organization_siren" name="organization_siren" value="<%= jobOffer.organization_siren %>" readonly required>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
          </form>
        </div>
      </div>
    </div>
  </main>
  <%- include("./footer.ejs")%>
</body>
</html>